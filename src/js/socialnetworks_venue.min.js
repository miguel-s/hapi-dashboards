'use strict';

// map

const api = 'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token={accessToken}';
const config = {
  attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
  id: 'mapbox.streets',
  accessToken: 'pk.eyJ1IjoibXluZGZsYW1lIiwiYSI6ImNpbXJ1am85cDAwNGx2OW0xbnU0amdkZHgifQ.56NzZw6OPm41VEqhaqGHAA',
};

const latlon = [$('#map').data('lat'), $('#map').data('lon')];

const map = L.map('map').setView(latlon, 15);
L.tileLayer(api, config).addTo(map);
L.marker(latlon).addTo(map);

//charts

$(document).on('shown.bs.tab', () => {
  $(document).trigger('redraw.bs.charts');
});
